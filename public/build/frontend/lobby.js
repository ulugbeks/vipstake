/*! For license information please see lobby.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[961],{460:(e,t,n)=>{function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,i(o.key),o)}}function i(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}n.d(t,{A:()=>s});var s=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},(t=[{key:"get",value:function(e){return new Promise((function(t,n){var o=new XMLHttpRequest;o.open("GET",e,!0),o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.onreadystatechange=function(){4===o.readyState&&(200===o.status?t(JSON.parse(o.responseText)):n(o.statusText))},o.onerror=function(){n("Network error")},o.send()}))}},{key:"post",value:function(e,t){return new Promise((function(n,o){var r=new XMLHttpRequest;r.open("POST",e,!0),r.setRequestHeader("Content-Type","application/json"),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.onreadystatechange=function(){if(4===r.readyState)if(200===r.status)n(JSON.parse(r.responseText));else{var e=JSON.parse(r.responseText);o(e.error||r.statusText)}},r.onerror=function(){o("Network error")},r.send(JSON.stringify(t))}))}},{key:"postFormData",value:function(e,t){return new Promise((function(n,o){var r=new XMLHttpRequest;r.open("POST",e,!0),r.onreadystatechange=function(){4===r.readyState&&(200===r.status?n(JSON.parse(r.responseText)):o(r.statusText))},r.onerror=function(){o("Network error")},r.send(t)}))}}])&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}()},666:(e,t,n)=>{n.d(t,{Y:()=>i});var o=n(460);function r(){var e=document.querySelector("button.menu__buttons--login");if(e){var t=function(){r.classList.toggle("is-hidden"),v.classList.remove("is-hidden"),d.classList.remove("is-hidden"),p.classList.remove("active"),m.classList.remove("active"),u.classList.remove("active"),f.classList.add("is-hidden"),d.classList.add("active");var e=document.querySelector("body");e.classList.remove("modal-open"),r.classList.contains("is-hidden")?e.classList.add("modal-open"):e.classList.remove("modal-open")},n=document.querySelector(".login-modal--close-button"),r=document.querySelector(".login-modal"),i=document.getElementById("sign-up-change-form"),s=document.getElementById("auth-change-form"),a=document.getElementById("forgot-pass-change-form"),c=document.getElementById("forgot-pass-sent-email"),l=document.getElementById("resend-email"),d=document.getElementById("auth-form"),u=document.getElementById("sign-up-form"),m=document.getElementById("forgot-pass-form"),v=document.getElementById("forgot-send-email"),f=document.getElementById("forgot-resend-email"),p=document.getElementById("new-password-form"),y=document.getElementById("emailLogin"),g=document.getElementById("log-in-continue"),L=new o.A;g.addEventListener("click",(function(){L.get("/check-email?email="+y.value).then((function(e){var t,n;e?(d.classList.add("is-hidden"),y.classList.remove("error"),y.closest("form").querySelector(".error-text").innerText=""):(n="Incorrect email",(t=y).classList.add("error"),t.closest("form").querySelector(".error-text").innerText=n)}))})),s.addEventListener("click",(function(){d.classList.add("active"),u.classList.remove("active"),m.classList.remove("active")})),i.addEventListener("click",(function(){u.classList.add("active"),d.classList.remove("active"),m.classList.remove("active")})),a.addEventListener("click",(function(){m.classList.add("active"),d.classList.remove("active"),u.classList.remove("active")})),c.addEventListener("click",(function(){v.classList.add("is-hidden"),f.classList.remove("is-hidden")})),l.addEventListener("click",(function(){p.classList.add("active"),m.classList.remove("active")})),e.addEventListener("click",t),document.querySelectorAll('[data-login="true"]').forEach((function(e){e.addEventListener("click",t)})),n.addEventListener("click",t),document.getElementById("modal-login-form").addEventListener("submit",(function(e){var t,n;e.preventDefault(),(t=y.value,n=document.getElementById("password").value,new Promise((function(e,o){var r=new XMLHttpRequest;r.open("POST","/xhr-login/",!0),r.setRequestHeader("Content-Type","application/json"),r.onreadystatechange=function(){if(4===r.readyState)if(200===r.status)e(JSON.parse(r.responseText));else{var t=JSON.parse(r.responseText);o(t.error||r.statusText)}},r.onerror=function(){o("Network error")};var i=JSON.stringify({email:t,password:n});r.send(i)}))).then((function(e){e.success&&window.location.reload()})).catch((function(t){e.target.querySelector(".error-text").innerText=t}))})),document.getElementById("registration-modal-form").addEventListener("submit",(function(e){e.preventDefault();var t=document.getElementById("emailSignup").value,n=document.getElementById("passwordSignUp").value;L.post("/register/",{email:t,password:n}).then((function(e){window.location.reload()})).catch((function(t){e.target.querySelector(".error-text").innerText=t}))}))}}var i=function(){var e,t,n,o,i,s,a,c,l,d,u;document.querySelectorAll('input[type="password"]').forEach((function(e){var t=e.parentNode.querySelectorAll(".password-toggle-icon");t.forEach((function(n){n.addEventListener("click",(function(){"password"===e.type?e.type="text":e.type="password",t.forEach((function(e){e.classList.toggle("active")}))}))}))})),r(),document.querySelectorAll(".header__menu-list-item--link > span").forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var t=this.closest(".header__menu-list-item"),n=t.classList.contains("is-shown");document.querySelectorAll(".header__menu-list-item").forEach((function(e){e.classList.remove("is-shown")})),n?t.classList.remove("is-shown"):t.classList.add("is-shown")}))})),e=document.querySelector('[data-action="openModal"]'),t=document.querySelector('[data-action="header-wrapper"]'),n=document.querySelector("body"),o=document.querySelector("html"),i=function(){var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.overflow="scroll",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}(),e.addEventListener("click",(function(){t.classList.toggle("show-modal"),t.classList.contains("show-modal")?(n.style.marginRight="".concat(i,"px"),n.classList.add("modal-open"),o.style.overflowY="hidden"):(n.style.marginRight="",n.classList.remove("modal-open"),o.style.overflowY="")})),s=document.querySelector('[data-action="header-wrapper"]'),a=document.getElementById("hero"),c=document.querySelector(".header"),a&&window.addEventListener("scroll",(function(){if(!s.classList.contains("show-modal")){var e=a.getBoundingClientRect(),t=c.getBoundingClientRect(),n=e.bottom+window.scrollY-80,o=t.bottom+10,r=window.scrollY;r>o?s.classList.add("is-hidden"):s.classList.remove("is-hidden"),s.style.zIndex=r>n/2?"9997":"9999",r>n?s.classList.add("scroll"):s.classList.remove("scroll")}})),l=0,d=document.querySelector(".cta-header"),u=document.querySelector(".cta-header-scroll"),d&&u&&window.addEventListener("scroll",(function(){var e=window.pageYOffset||document.documentElement.scrollTop;u.style.transform=e>l?"translateY(0)":"translateY(-100%)",l=e<=0?0:e}))}},659:(e,t,n)=>{var o=n(666);function r(e){var t=window.innerWidth>=1280,n=e.querySelector("[data-tooltip-trigger]"),o=(e.querySelector("[data-tooltip-content]"),e.querySelector("[data-tooltip-close]"));t?(n.removeEventListener("click",i),o.removeEventListener("click",s),e.removeAttribute("data-tooltip-visible"),n.addEventListener("mouseenter",a),n.addEventListener("mouseleave",c)):(n.removeEventListener("mouseenter",a),n.removeEventListener("mouseleave",c),n.addEventListener("click",i),o.addEventListener("click",s))}function i(e){var t=e.currentTarget.closest("[data-tooltip-container]"),n=t.hasAttribute("data-tooltip-visible");document.querySelectorAll("[data-tooltip-visible]").forEach((function(e){e!==t&&e.removeAttribute("data-tooltip-visible")})),n?t.removeAttribute("data-tooltip-visible"):t.setAttribute("data-tooltip-visible","")}function s(e){e.currentTarget.closest("[data-tooltip-container]").removeAttribute("data-tooltip-visible")}function a(e){e.currentTarget.closest("[data-tooltip-container]").setAttribute("data-tooltip-visible","")}function c(e){e.currentTarget.closest("[data-tooltip-container]").removeAttribute("data-tooltip-visible")}var l=n(460);document.addEventListener("DOMContentLoaded",(function(){!function(){var e=document.querySelectorAll("[data-tooltip-container]");function t(){e.forEach((function(e){return r(e)}))}window.addEventListener("resize",t),t()}(),document.querySelectorAll('[data-action="copyButton"]').forEach((function(e){e.addEventListener("click",(function(){var t=e.querySelector('[data-target="buttonText"]'),n=e.querySelector('[data-target="copyIcon"]');if(t&&n){var o=t.textContent,r=o;t.classList.contains("copied")||navigator.clipboard.writeText(r).then((function(){t.textContent="copied",t.classList.add("copied"),n.classList.add("copied");var e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("width","18"),e.setAttribute("height","18"),e.setAttribute("viewBox","0 0 18 18"),e.setAttribute("fill","none"),e.innerHTML='\n          <path d="M8.99984 0.666992C4.40502 0.666992 0.666504 4.40551 0.666504 9.00033C0.666504 13.5951 4.40502 17.3337 8.99984 17.3337C13.5947 17.3337 17.3332 13.5951 17.3332 9.00033C17.3332 4.40551 13.5947 0.666992 8.99984 0.666992ZM13.6573 6.80734L8.3315 12.0914C8.01822 12.4047 7.51696 12.4256 7.1828 12.1123L4.36325 9.54335C4.02908 9.23007 4.00819 8.70793 4.30059 8.37376C4.61387 8.03959 5.13601 8.01871 5.47018 8.33199L7.70493 10.3788L12.4668 5.61687C12.801 5.2827 13.3231 5.2827 13.6573 5.61687C13.9915 5.95104 13.9915 6.47317 13.6573 6.80734Z" fill="#2EA380"/>\n        ',e.setAttribute("id","copiedIcon"),n.parentNode.replaceChild(e,n),setTimeout((function(){t.textContent=o,t.classList.remove("copied"),n.classList.remove("copied"),e.parentNode.replaceChild(n,e)}),2e3)}))}else console.error("Не удалось найти элементы с указанными data-target атрибутами")}))})),(0,o.Y)();var e=1,t=document.getElementById("more-vip-reviews");t.addEventListener("click",(function(){var n=new l.A,o=document.getElementById("vip-review-container");++e,n.get("/ajax/reviews/?page="+e+"&index="+o.children.length).then((function(e){var n=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=document.createElement("div");return n.innerHTML=e,t?n:n.firstChild}(e.content,!1);r(n.querySelector("[data-tooltip-container]")),o.append(n),e.nextPage||t.remove()}))}))}))}},e=>{var t;t=659,e(e.s=t)}]);